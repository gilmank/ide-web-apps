<!doctype html>  
<html lang="en">  
<head>  
<meta charset="utf-8">  
<title>IDE Wireframes</title>  
<meta name="description" content="IDE Wireframes">  
<meta name="author" content="Oregon State University">  
<link rel="stylesheet" href="css/style.css">  
<!--[if lt IE 9]>  
<script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>  
<![endif]-->

<script type="text/javascript">

function button() {
	
	var xmlhttp;
	if (window.XMLHttpRequest)
	  {// code for IE7+, Firefox, Chrome, Opera, Safari
	  xmlhttp=new XMLHttpRequest();
	  }
	else
	  {// code for IE6, IE5
	  xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
	  }
	xmlhttp.onreadystatechange=function()
	  {
	  if (xmlhttp.readyState==4 && xmlhttp.status==200)
		{
			editor_one.setValue(xmlhttp.responseText);
		}
	  }
	xmlhttp.open("GET","ajax_info.txt",true);
	xmlhttp.send();
}


function update() {
	var previewt = $('#preview')[0].contentWindow.document;
	previewt.open();
	previewt.close();
	
	var html = aceHTML();
	var css = aceCSS();	
	
	$('body', previewt).append(html);
	$('head', previewt).append('<style>' + css + '</style>');
}

function aceHTML() {
	
	var html = editor_one.getValue();
	
	return html;
}

function aceCSS() {
	
	var css = editor_two.getValue();
	
	return css;
	
}

function loadXMLDoc()
{
var xmlhttp;
if (window.XMLHttpRequest)
  {// code for IE7+, Firefox, Chrome, Opera, Safari
  xmlhttp=new XMLHttpRequest();
  }

xmlhttp.onreadystatechange=function()
  {
  if (xmlhttp.readyState==4 && xmlhttp.status==200)
    {
    
		editor_one.setValue(xmlhttp);
		
    }
  }
xmlhttp.open("GET","test.txt",true);
xmlhttp.send();
}



</script>
  
</head>  
<body>  
<script src="editor.js" type="text/javascript" charset="utf-8"></script>
<script src="jquery-1.7.2.js" type="text/javascript" charset="utf-8"></script>
<script src="src/ace.js" type="text/javascript" charset="utf-8"></script>
  

 
 <div id="container">   
    
    
    
    <div class="divider">
		
        
	</div>
    
    <section id="editor-pane">
      
      <div id="editor_one" class="editor html"> 
         
      </div>
      
     
      
              <div id="editor_two" class="editor css">
             
           
              </div>
              
        
    </section>
    
	<script>
			
        var editor_one = ace.edit("editor_one");
        editor_one.setTheme("ace/theme/clouds");
        editor_one.getSession().setMode("ace/mode/javascript");
		var EditSession = require("ace/edit_session").EditSession;
	
		
		var file_one = new EditSession('');
		editor_one.setSession(file_one);
		
		
		var editor_two = ace.edit("editor_two");
        editor_two.setTheme("ace/theme/clouds");
        editor_two.getSession().setMode("ace/mode/javascript");
		
		var file_two = new EditSession('');
		editor_two.setSession(file_two);
	
		
		editor_one.getSession().on('change', update);
		editor_two.getSession().on('change', update);
		
    </script>
    
    <div class="divider">

        <button type="button" onclick="button()">test</button>
	</div>

    
    <section id="editor preview_pane">   
      <iframe id="preview" frameborder="0">
        <!DOCTYPE html>
		<html>
			<head></head>
			<body></body>
		</html>
      </iframe>
    </section>
	
    <div id="slider"></div>
    
</div>


</body>  
</html>  
